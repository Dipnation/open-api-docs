
# Order Endpoint 

## Let's get started

Whenever customer place an order, TIKI and seller have to collaborate to delivery the product to customer as soon as possible

TIKI have 2 main fulfillment type chosen when seller create product. Each type have a different flow to confirm order and deliver product to customer.

* TIKI delivery (tiki_delivery) 
* Seller delivery (seller_delivery)

Via API, we provide some solution to confirm order & delivery status step by step:

* Query list registered warehouse, specific order 
* Confirm product available status(select warehouse it belong to)
* Confirm delivery status (for seller delivery) 
* Print shipping order (if needed) 

Please take look those API docs below for more detail 

## Sequence diagram

### Seller delivery
![](https://i.imgur.com/nrieEw6.png)


**(1)** Seller get warehouses using api **get warehouses** each warehouse have location, _warehouse_code_ and _seller_delivery_id_

**(2)** Seller pull order, using api **get list order**  with status = "**queueing**"

**(3)** After pull order, seller will confirm each item in the list, for-each item in orders, seller confirm one _seller_inventory_id_ have item in stock. Using api **confirm order items**

**(4)** After seller delivery, seller will confirm delivery status using api **Confirm delivery status** status=**successful_delivery**.

### TIKI Delivery
![](https://i.imgur.com/wGDoCKW.png)


**(1)** Seller get warehouses using api **get warehouses** each warehouse have location, _warehouse_code_ and _seller_delivery_id_

**(2)** Seller pull order, using api **get list order**  with status = "_**queueing**_"

**(3)**  After pull order, seller will confirm each item in the list, for-each item in orders, seller confirm one _seller_inventory_id_ have item in stock. Using api **confirm order items**

**(4)** Once products in TIKI warehouse, we will pack and delivery to customer.

**(5)** Finally TIKI will confirm delivery order using api **Confirm delivery**, status=**successful_delivery**. 

## Entity 
### Order

<table>
  <thead>
    <tr>
      <th style="text-align:left">Field</th>
      <th style="text-align:left">Type</th>
      <th style="text-align:left">Example</th>
      <th style="text-align:left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left">order_code</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">&quot;239545064&quot;</td>
      <td style="text-align:left">An unique key that auto generated by system</td>
    </tr>
    <tr>
      <td style="text-align:left">coupon_code</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">&quot;123&quot;</td>
      <td style="text-align:left">A coupon code apply for order.</td>
    </tr>
    <tr>
      <td style="text-align:left">status</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">&quot;complete&quot;</td>
      <td style="text-align:left">Order status, see List of Order Status for more details</td>
    </tr>
    <tr>
      <td style="text-align:left">total_price_before_discount</td>
      <td style="text-align:left">Long</td>
      <td style="text-align:left">598000</td>
      <td style="text-align:left">Total order amount before discounts</td>
    </tr>
    <tr>
      <td style="text-align:left">total_price_after_discount</td>
      <td style="text-align:left">Long</td>
      <td style="text-align:left">528000</td>
      <td style="text-align:left">Total order amount after applied discounts</td>
    </tr>
    <tr>
      <td style="text-align:left">updated_at</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">&quot;2019-07-02 18:56:29&quot;</td>
      <td style="text-align:left">Date-time when the order was updated</td>
    </tr>
    <tr>
      <td style="text-align:left">purchased_at</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">&quot;2019-07-02 18:56:29&quot;</td>
      <td style="text-align:left">Date-time when the order was placed</td>
    </tr>
    <tr>
      <td style="text-align:left">fulfillment_type</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">&quot;cross_border&quot;</td>
      <td style="text-align:left">Order fulfillment types:
        <br />- Seller Delivery orders are fulfillment_type = <b>seller_delivery</b>
        <br
        />- Orders from abroad (Crossborder) are orders with fulfillment_type = <b>cross_border</b>
        <br
        />- Dropship orders directly from the seller (Dropship) are orders with
        fulfillment_type = <b>dropship</b>
        <br />- Tiki Delivery (Tiki Delivery) are orders with fulfillment_type = <b>tiki_delivery</b>
      </td>
    </tr>
    <tr>
      <td style="text-align:left">note</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">&quot;&quot;</td>
      <td style="text-align:left">delivery note</td>
    </tr>
    <tr>
      <td style="text-align:left">is_rma</td>
      <td style="text-align:left">Integer</td>
      <td style="text-align:left">0</td>
      <td style="text-align:left"> default 0, 1 is return order</td>
    </tr>
    <tr>
      <td style="text-align:left">warehouse_id</td>
      <td style="text-align:left">Integer</td>
      <td style="text-align:left">0</td>
      <td style="text-align:left">id of warehouse</td>
    </tr>
    <tr>
      <td style="text-align:left">handling_fee</td>
      <td style="text-align:left">Long</td>
      <td style="text-align:left">0</td>
      <td style="text-align:left">handling fee</td>
    </tr>
    <tr>
      <td style="text-align:left">collectable_total_price</td>
      <td style="text-align:left">Long</td>
      <td style="text-align:left">0</td>
      <td style="text-align:left">amount to be collected from customer</td>
    </tr>
    <tr>
      <td style="text-align:left"><b>discount</b>(*)</td>
      <td style="text-align:left">Object</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">discount info</td>
    </tr>
    <tr>
      <td style="text-align:left"><b>tax</b>(*)</td>
      <td style="text-align:left">Object</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">tax invoice info</td>
    </tr>
    <tr>
      <td style="text-align:left"><b>shipping</b>(*)</td>
      <td style="text-align:left">Object</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">shipping info</td>
    </tr>
    <tr>
      <td style="text-align:left"><b>items</b>(*)</td>
      <td style="text-align:left">Array Object</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">list of item</td>
    </tr>
    <tr>
      <td style="text-align:left"><b>payment</b>(*)</td>
      <td style="text-align:left">Object</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">payment info</td>
    </tr>
  </tbody>
</table>

### (*)Discount 

| Field | Type | Example | Description |
| :--- | :--- | :--- | :--- |
| discount_amount | Long | 10000 | total amount discount |
| discount_coupon | Long | 10000 | amount discount of coupon |

### (*)Tax

| Field | Type | Example | Description |
| :--- | :--- | :--- | :--- |
| code | String | 1 |  |
| name | String | Company |  |
| address | String | Ha Noi |  |

### (*)Shipping

| Field | Type | Example | Description |
| :--- | :--- | :--- | :--- |
| name | String | "hoàng anh" | Name of order receiver |
| street | String | "58/13  hậu giang" | Street address for order delivery |
| ward | String | "Phường 06" | The ward of delivery address |
| city | String | "Quận 6" | The district of delivery address |
| region | String | "Hồ Chí Minh" | Province, City of delivery address |
| country | String | "VN" | The country of delivery address |
| phone | String | "0784083498" | phone number |
| estimation_description | String | Expected delivery on Friday | the delivery info TIKI estimate  |
| shipping_fee | Long | 0 | shipping fee |

### (*)Item (Order item)

| Field | Type | Example | Description |
| :--- | :--- | :--- | :--- |
| id | Integer | 90965636 | Identifier of order line item within Tiki seller center |
| product_id | Integer | 12033331 | Product ID within Tiki seller center |
| product_name | String | "Gối Massage Cổ Hình Chữ U Xiaomi LR-S100" | Product name |
| sku | String | 341231234 | Identifier of the product within third-party system, that is added as a field of the product in Tiki system. |
| original_sku | String | "H24071" | Code of the seller SKU within Tiki Seller Center. |
| qty | Integer | 2 | Item quantity in the order |
| price | Integer | 299000 | Sales price of the product in the order |
| confirmation_status | String | "confirmed" | Confirmation status of the order item  |
| confirmed_at | String | "2019-07-03 09:18:08" | The time when the order item was confirmed |
| must_confirmed_before_at | String | "2019-07-03 09:18:08" | Order must confirm before at that time |
| **inventory_type**(*) | String | instock | is product inventory type |

### (*)Payment

| Field | Type | Example | Description |
| :--- | :--- | :--- | :--- |
| payment_method | String | "cod" | the payment method of customer |
| updated_at | String | "2019-07-31 14:31:26" | the latest time payment info is updated |
| description | String | "Thanh toán tiền mặt khi nhận hàng" | the detail of payment |

### (*)Order status

| **Value** | **Value-VN** | **Description** | **Description - VN** |
| :--- | :--- | :--- | :--- |
| queueing | cho_in | tiki received | Chờ in |
| canceled | canceled | canceled order | Đã hủy |
| successful_delivery | giao_hang_thanh_cong | successful delivery | Giao hàng thành công |
| complete |  |  |  |


## Get list orders
### HTTP Request ###
<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">GET</i>
		<h6>https://api.tiki.vn/integration/{version}/orders</h6>
	</div>
</div>

Returns a list of sales orders managed by signing in seller, base on a specific search query

```http
GET https://api.tiki.vn/integration/v1/orders?page=1&limit=2&status=queueing 
```
> Response body

```json
{
  "data": [
    {
      "order_code": "929231617",
      "coupon_code": "123",
      "status": "queueing",
      "total_price_before_discount": 200000,
      "total_price_after_discount": 200000,
      "updated_at": "2019-10-30 17:27:24",
      "purchased_at": "2019-10-30 17:27:17",
      "fulfillment_type": "dropship",
      "note": "",
      "is_rma": null,
      "warehouse_id": 17,
      "tax": {
        "code": null,
        "name": null,
        "address": null
      },
      "discount": {
        "discount_amount": 10,
        "discount_coupon": 10
      },
      "shipping": {
        "name": "hậu nguyễn",
        "street": "519 kim mã",
        "ward": "Phường Kim Mã",
        "city": "Quận Ba Đình",
        "region": "Hà Nội",
        "country": "VN",
        "phone": "0912611089",
        "estimate_description": "Dự kiến giao hàng vào Thứ hai, 04/11/2019"
      },
      "items": [
        {
          "id": 25203463,
          "product_id": 2050232,
          "product_name": "Cơm gà - dropship -hn4",
          "sku": "9956112228645",
          "original_sku": "",
          "qty": 1,
          "price": 200000,
          "confirmation_status": "waiting",
          "confirmed_at": "",
          "must_confirmed_before_at": "2019-10-31 12:00:00",
          "inventory_type": "instock"
        }
      ],
      "payment": {
        "payment_method": "cod",
        "updated_at": "2019-10-30 17:27:25",
        "description": "Thanh toán tiền mặt khi nhận hàng"
      },
      "handling_fee": 0,
      "collectable_total_price": 0
    }
  ],
  "paging": {
    "total": 1,
    "per_page": 20,
    "current_page": 1,
    "last_page": 1,
    "from": 1,
    "to": 1
  }
}
```

### **Request**

<table>
  <thead>
    <tr>
      <th style="text-align:left">Headers</th>
      <th style="text-align:left">Content-type</th>
      <th style="text-align:left">application/json</th>
      <th style="text-align:left"></th>
      <th style="text-align:left"></th>
      <th style="text-align:left"></th>
      <th style="text-align:left"></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">tiki-api</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left"></td>
      <td style="text-align:left"></td>
      <td style="text-align:left"></td>
      <td style="text-align:left"></td>
    </tr>
    <tr>
      <td style="text-align:left">Query Parameters</td>
      <td style="text-align:left">Name</td>
      <td style="text-align:left">Type</td>
      <td style="text-align:left">Mandatory</td>
      <td style="text-align:left">Example</td>
      <td style="text-align:left">Default value</td>
      <td style="text-align:left">Description</td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">status</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">N</td>
      <td style="text-align:left">&quot;queueing&quot;</td>
      <td style="text-align:left">queuing</td>
      <td style="text-align:left">
        <p>Order status:</p>
        <ul>
          <li>queueing</li>
          <li>seller_confirmed</li>
          <li>seller_canceled</li>
          <li>complete</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">page</td>
      <td style="text-align:left">Integer</td>
      <td style="text-align:left">N</td>
      <td style="text-align:left">2</td>
      <td style="text-align:left">1</td>
      <td style="text-align:left">Page no of paging</td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">limit</td>
      <td style="text-align:left">Integer</td>
      <td style="text-align:left">N</td>
      <td style="text-align:left">20</td>
      <td style="text-align:left">20</td>
      <td style="text-align:left">Number of records per page</td>
    </tr>
  </tbody>
</table>

_**Note**_: We support query data 30 days latest at most.

### **Response:** 

| Field | Type | Description |
| :--- | :--- | :--- |
| results | List&lt;Order&gt; | Returns a list of sales orders managed by signing in seller, base on a specific search query. |
| paging | Object | Paging information |

### **Exception Case**

| HTTP Code | message | Description |
| :--- | :--- | :--- |
| 500 | Internal server error | having error in server, can't serving |


## Order detail
### HTTP Request ###
<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">GET</i>
		<h6>https://api.tiki.vn/integration/{version}/orders/{order_code}</h6>
	</div>
</div>

Returns detail information including product items of a sales order, base on order code.

```http
GET https://api.tiki.vn/integration/v1/orders/929231617
```

> Response body

```json
{
    "order_code": "929231617",
    "coupon_code": null,
    "status": "queueing",
    "total_price_before_discount": 200000,
    "total_price_after_discount": 200000,
    "updated_at": "2019-10-30 17:27:24",
    "purchased_at": "2019-10-30 17:27:17",
    "fulfillment_type": "dropship",
    "note": "",
    "is_rma": null,
    "warehouse_id": 17,
    "discount": {
        "discount_amount": 0,
        "discount_coupon": 0
    },
    "tax": {
        "code": null,
        "name": null,
        "address": null
    },
    "shipping": {
        "name": "hậu nguyễn",
        "street": "519 kim mã",
        "ward": "Phường Kim Mã",
        "city": "Quận Ba Đình",
        "region": "Hà Nội",
        "country": "VN",
        "phone": "0912611089",
        "estimate_description": "Dự kiến giao hàng vào Thứ hai, 04/11/2019",
        "shipping_fee": 0
    },
    "items": [
        {
            "id": 25203463,
            "product_id": 2050232,
            "product_name": "Cơm gà - dropship -hn4",
            "sku": "9956112228645",
            "original_sku": "",
            "qty": 1,
            "price": 200000,
            "confirmation_status": "seller_confirmed",
            "confirmed_at": "2019-11-01 10:07:58",
            "must_confirmed_before_at": "2019-11-01 23:59:59",
            "inventory_type": "seller_backorder"
        }
    ],
    "payment": {
        "payment_method": "cod",
        "updated_at": "2019-10-30 17:27:25",
        "description": "Thanh toán tiền mặt khi nhận hàng"
    },
    "handling_fee": 0,
    "collectable_total_price": 0
}
```

### **Request**

| Headers | Content-type | application/json |
| :--- | :--- | :--- |
| tiki-api | String | seller token key (contact Tiki supporter)  |

### **Response :** 

| Field | Type | Description |
| :--- | :--- | :--- |
| root | Order | Returns detail information including product items of a sales order, base on order code. |

### **Exception Case**

| HTTP Code | message | Description |
| :--- | :--- | :--- |
| 500 | Internal server error | having error in server, can't serving |
| 404 | Not found | order code not found |

## Get warehouses
### HTTP Request ###
<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">GET</i>
		<h6>https://api.tiki.vn/integration/{version}/warehouses</h6>
	</div>
</div>
Returns detail information of warehouse of Tiki that seller registries for backorder model.

```http
GET https://api.tiki.vn/integration/v1/warehouses
```

> Response body

```json
[
  {
    "contact_email": "dsada@gmail.com",
    "contact_name": "Nguyễn Thị Bích a",
    "contact_phone": "0988909999",
    "country": {
      "code": "vn",
      "name": "Viet Nam"
    },
    "district": {
      "code": "VN034025",
      "name": "Quận Hoàng Mai"
    },
    "name": "Kho giáp bát hà nội",
    "region": {
      "code": "VN034",
      "name": "Hà Nội"
    },
    "seller_inventory_id": 919,
    "street": "dsa ds",
    "ward": {
      "code": "VN034025003",
      "name": "Phường Giáp Bát"
    },
    "warehouse_code": "hn",
    "warehouse_id": 2
  },
  {
    "contact_email": "32@gmail.com",
    "contact_name": "7",
    "contact_phone": "0887999123",
    "country": {
      "code": "vn",
      "name": "Viet Nam"
    },
    "district": {
      "code": "VN023007",
      "name": "Quận Ninh Kiều"
    },
    "name": "7",
    "region": {
      "code": "VN023",
      "name": "Cần Thơ"
    },
    "seller_inventory_id": 905,
    "street": "3432",
    "ward": {
      "code": "VN023007005",
      "name": "Phường An Khánh"
    },
    "warehouse_code": "ct",
    "warehouse_id": 6
  },
  {
    "contact_email": "dsdss@gmail.com",
    "contact_name": "6",
    "contact_phone": "0912676787",
    "country": {
      "code": "vn",
      "name": "Viet Nam"
    },
    "district": {
      "code": "VN037011",
      "name": "Quận Hồng Bàng"
    },
    "name": "kho 6",
    "region": {
      "code": "VN037",
      "name": "Hải Phòng"
    },
    "seller_inventory_id": 904,
    "street": "dsdsd",
    "ward": {
      "code": "VN037011003",
      "name": "Phường Hùng Vương"
    },
    "warehouse_code": "hp",
    "warehouse_id": 8
  },
  {
    "contact_email": "email@gmail.com",
    "contact_name": "kho 5",
    "contact_phone": "0989000912",
    "country": {
      "code": "vn",
      "name": "Viet Nam"
    },
    "district": {
      "code": "VN039013",
      "name": "Quận 5"
    },
    "name": "kho 5",
    "region": {
      "code": "VN039",
      "name": "Hồ Chí Minh"
    },
    "seller_inventory_id": 903,
    "street": "ewew",
    "ward": {
      "code": "VN039013007",
      "name": "Phường 07"
    },
    "warehouse_code": "sgn",
    "warehouse_id": 4
  },
  {
    "contact_email": "dsf@gmail.com",
    "contact_name": "1",
    "contact_phone": "0912345666",
    "country": {
      "code": "vn",
      "name": "Viet Nam"
    },
    "district": {
      "code": "VN034019",
      "name": "Quận Bắc Từ Liêm"
    },
    "name": "kho hà nội",
    "region": {
      "code": "VN034",
      "name": "Hà Nội"
    },
    "seller_inventory_id": 902,
    "street": "ewqeqw",
    "ward": {
      "code": "VN034019006",
      "name": "Phường Minh Khai"
    },
    "warehouse_code": "hn",
    "warehouse_id": 2
  },
  {
    "contact_email": "ntbh@gmail.com",
    "contact_name": "hoa",
    "contact_phone": "0989787878",
    "country": {
      "code": "vn",
      "name": "Viet Nam"
    },
    "district": {
      "code": "VN034022",
      "name": "Quận Hà Đông"
    },
    "name": "Kho 2",
    "region": {
      "code": "VN034",
      "name": "Hà Nội"
    },
    "seller_inventory_id": 899,
    "street": "hà đông",
    "ward": {
      "code": "VN034022003",
      "name": "Phường Dương Nội"
    },
    "warehouse_code": "hn",
    "warehouse_id": 2
  }
]
```

### **Request**

| Headers | Content-type | application/json |  |  |  |
| :--- | :--- | :--- | :--- | :--- | :--- |
|  | tiki-api | seller token key \( contact Tiki supporter \)  |  |  |  |
| Query Parameters | Name | Type | Mandatory | Example | Description |
|  | warehouse_id | Integer | N | 2 | the id of warehouse |
|  | warehouse_code | String | N | hn | the code of warehouse |

### **Response**

| Field | Type | Description |
| :--- | :--- | :--- |
| root | Array object | List of warehouse object |


### **Exception Case**

| HTTP Code | message | Description |
| :--- | :--- | :--- |
| 500 | Internal server error | having error in server, can't serving |

## Confirm order items
### HTTP Request ###
<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">POST</i>
		<h6>https://api.tiki.vn/integration/{version}/orders/confirmItems</h6>
	</div>
</div>

```http
POST https://api.tiki.vn/integration/{version}/orders/confirmItems
```
> request body **Seller delivery**

```json
{
  "order_code": "419060832",
  "warehouse_code": "sg",
  "seller_inventory_id": 882,
  "item_ids": [94792486, 94792487],
  "delivery_commitment_time": "2019-11-03 23:59:59"  
}
```

> request body **TIKI delivery**

```json
{
  "order_code": "419060832",
  "warehouse_code": "sg",
  "seller_inventory_id": 882,
  "item_ids": [94792486, 94792487]
}
```

> Response body

```json
{
    "code": 200,
    "data": []
}
```
Seller confirm available status and location of each item in the list

### **Request**

| Headers | Content-type | application/json |  |  |
| :--- | :--- | :--- | :--- | :--- |
|  | tiki-api | seller token key (contact Tiki supporter)  |  |  |
| Body Parameters | Name | Type | Mandatory | Description |
|  | order_code | String | Y | order code |
|  | item_ids | Array Integer | Y | list of item\_id of a specific backorder that seller want to confirm,  |
|  | warehouse_code | String | Y | warehouse code |
|  | seller_inventory_id | String | Y | seller inventory id |
|  | delivery_commitment_time(*) | String | N | Seller delivery commitment time, String datetime with format Y-m-d H:i:s. |
|  | tracking_number(*) | String | N | maybe equal order code, tracking\_number is code for tracking order via 3rd party system or anything like this  |

**Note:** We use this endpoint to confirm available item only, if an item is absent, it will be confirmed as not able to sell by this time.

So if you want to reject all of item in this order, just send an empty **item_ids** list

* **delivery_commitment_time** is required for **seller delivery** order
* **tracking_number** is required for **cross_border** order

### **Response :** 

| Field | Type | Description |
| :--- | :--- | :--- |
| code | String | Seller confirm order |
| data | Array object |  |

### **Exception Case**

| HTTP Code | message | Description |
| :--- | :--- | :--- |
| 500 | Internal server error | having error in server, can't serving |
| 400 | Bad request | Params in body request invalid. See detail response |

## Confirm delivery
### HTTP Request ###
<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">POST</i>
		<h6>https://api.tiki.vn/integration/v1/orders/confirmDelivery</h6>
	</div>
</div>

```http
POST https://api.tiki.vn/integration/v1/orders/confirmDelivery
```

Confirm delivery for order of seller delivery. Update status successful_delivery delivery order, same as Seller center.

> request body 

```json
{
    "order_code": "20939384",
    "status": "successful_delivery"
}
```

> Response body

```json
{
    "order_code": "20939384"
}
```



### **Request**

<table>
  <thead>
    <tr>
      <th style="text-align:left">Headers</th>
      <th style="text-align:left">Content-type</th>
      <th style="text-align:left">application/json</th>
      <th style="text-align:left"></th>
      <th style="text-align:left"></th>
      <th style="text-align:left"></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">tiki-api</td>
      <td style="text-align:left">seller token key ( contact Tiki supporter )</td>
      <td style="text-align:left"></td>
      <td style="text-align:left"></td>
      <td style="text-align:left"></td>
    </tr>
    <tr>
      <td style="text-align:left">Body Parameters</td>
      <td style="text-align:left">Name</td>
      <td style="text-align:left">Type</td>
      <td style="text-align:left">Mandatory</td>
      <td style="text-align:left">Description</td>
      <td style="text-align:left">Example</td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">order_code</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">Y</td>
      <td style="text-align:left">Order code of seller delivery.</td>
      <td style="text-align:left">&quot;20939384&quot;</td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">status</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">Y</td>
      <td style="text-align:left">
        <p>Status is successful_delivery
     </td>
      <td style="text-align:left">&quot;**successful_delivery**&quot;</td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">appointment_date</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">N</td>
      <td style="text-align:left">String datetime with format Y-m-d H:i:s.</td>
      <td style="text-align:left">&quot;2019-06-22 18:12:17&quot;</td>
    </tr>
  </tbody>
</table>

### **Response**
| Field | Type | Example | Description |
| :--- | :--- | :--- | :--- |
| order_code | String | "20939384" | Order code |

### **Exception Case**

| HTTP Code | message | Description |
| :--- | :--- | :--- |
| 500 | Internal server error | having error in server, can't serving |
| 400 | Bad request | request not valid |

## Update delivery status

### HTTP Request ###
<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">POST</i>
		<h6>https://api.tiki.vn/integration/{version}/orders/updateDeliveryStatus</h6>
	</div>
</div>

```http
POST https://api.tiki.vn/integration/{version}/orders/updateDeliveryStatus
```

Update delivery status, base on order codes. When order delivery, we need know order delivery status, you will need update it.

> Request body

```json
{
    "order_code": "327965376-5vHl1b",
    "update_time":"2019-11-23 23:59:59",
    "status": "ready_for_delivery"
}
```

> Response body

```json
{
    "message": "success"
}
```


### **Request**

| Headers | Content-type | application/json |  |  |  |
| :--- | :--- | :--- | :--- | :--- | :--- |
|  | tiki-api | seller token key \( contact Tiki supporter \)  |  |  |  |
| Body Parameters | Name | Type | Mandatory | Description | Example |
|  | order_code | String | Y | Order code of seller delivery. | "20939384" |
|  | status | String | Y | Status of delivery. | "ready for delivery" |
|  | update_time | String | Y | String datetime with format Y-m-d H:i:s. | "2019-06-22 18:12:17" |

### **Response**  

| Field | Type | Example | Description |
| :--- | :--- | :--- | :--- |
| message | String | "success" |  |

### **Exception Case**

| HTTP Code | message | Description |
| :--- | :--- | :--- |
| 500 | Internal server error | having error in server, can't serving |
| 400 | Bad request | request not valid |

## Print order labels
### HTTP Request ###
<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">GET</i>
		<h6>https://api.tiki.vn/integration/{version}/orders/{order_code}/print</h6>
	</div>
</div>

```http
GET https://api.tiki.vn/integration/{version}/orders/{order_code}/print
```

Return shipping label url of sale orders, base on order codes.

> Response body

```json
{
    "shipping_label_url": "http://uat.tikicdn.com/ts/print/1b/67/52/d54614ae10e18b2112c38845641a693d.html"
}
```

### **Request**

<table>
  <thead>
    <tr>
      <th style="text-align:left">Headers</th>
      <th style="text-align:left">Content-type</th>
      <th style="text-align:left">application/json</th>
      <th style="text-align:left"></th>
      <th style="text-align:left"></th>
      <th style="text-align:left"></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">tiki-api</td>
      <td style="text-align:left">seller token key ( contact Tiki supporter )</td>
      <td style="text-align:left"></td>
      <td style="text-align:left"></td>
      <td style="text-align:left"></td>
    </tr>
    <tr>
      <td style="text-align:left"><b>Path Parameters</b>
      </td>
      <td style="text-align:left"><b>Name</b>
      </td>
      <td style="text-align:left"><b>Type</b>
      </td>
      <td style="text-align:left"><b>Mandatory</b>
      </td>
      <td style="text-align:left"><b>Example</b>
      </td>
      <td style="text-align:left"><b>Description</b>
      </td>
    </tr>
    <tr>
      <td style="text-align:left"></td>
      <td style="text-align:left">order_code</td>
      <td style="text-align:left">String</td>
      <td style="text-align:left">Y</td>
      <td style="text-align:left">&quot;<code>20939384&quot;</code>
      </td>
      <td style="text-align:left">order_code of order you want to print</td>
    </tr>
  </tbody>
</table>

### **Response**

| Field | Type | Example | Description |
| :--- | :--- | :--- | :--- |
| shipping_label_url | String | "[http://uat.tikicdn.com/ts/print/1b/67/52/d54614ae10e18b2112c38845641a693d.html](http://uat.tikicdn.com/ts/print/1b/67/52/d54614ae10e18b2112c38845641a693d.html)" | Shipping label url |


### **Exception Case**

| HTTP Code | message | Description |
| :--- | :--- | :--- |
| 500 | Internal server error | having error in server, can't serving |
| 400 | Bad request | request not valid |
